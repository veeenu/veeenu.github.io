<!doctype html><html><head><meta charset=utf-8><meta content="width=device-width" name=viewport><meta content="Shape grammars and the Sierpinski triangle" property=og:title><meta content=website property=og:type><meta content="Andrea Venuta" property=og:site_name><meta content="In the last few weeks I&amp#x27;ve been working on my thesis on procedural content
generation and came across the concept of shape grammars
in the context of urban and architectural modeling." property=og:description><title>Shape grammars and the Sierpinski triangle</title><link href=https://veeenu.github.io/style.css rel=stylesheet><link href=https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css rel=stylesheet><link integrity="sha512-vJqxkZ+Sugf/6WRlpcxN01qVfX/29hF6qc33eHF1va3NgoV+U+wCi+uTAsQ10sDoGyBxHLdaHvGwDlV3yVYboA==" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/katex.min.css referrerpolicy=no-referrer rel=stylesheet><script integrity="sha512-5ufNcHqOYgilGEHPfuRIQ5B/vDS1M8+UC+DESZ5CwVgGTg+b2Ol/15rYL/GiCWJ/Sx8oVo0FPFok1dPk8U9INQ==" crossorigin defer referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/katex.min.js></script><script integrity="sha512-MBhOGY4yRA2eATtRGTcrDJCRqcnLai5+uu47GA2ueVr1MPzirC/iogLWRA8CXTlOTK09VI4fdTe4qE4LBfjsHw==" crossorigin defer referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/contrib/mathtex-script-type.min.js></script><script integrity="sha512-ZA/RPrAo88DlwRnnoNVqKINnQNcWERzRK03PDaA4GIJiVZvGFIWQbdWCsUebMZfkWohnfngsDjXzU6PokO4jGw==" crossorigin defer referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/contrib/auto-render.min.js></script><script>document.addEventListener(`DOMContentLoaded`,(()=>{let a=`\$\$`,b=`\$`;renderMathInElement(document.body,{delimiters:[{left:a,right:a,display:!0},{left:b,right:b,display:!1},{left:`\\\\(`,right:`\\\\)`,display:!1},{left:`\\\\[`,right:`\\\\]`,display:!0}],throwOnError:!1})}))</script><body><header id=menu-header><a class=image href=https://veeenu.github.io> <div><img alt="Andrea Venuta" src=https://veeenu.github.io/me.jpg></div> <span>Andrea Venuta</span> </a><ul><li><a href=https://veeenu.github.io>About</a><li><a href=https://veeenu.github.io/blog.html>Blog</a></ul></header><div class="container top-container"><article class="article twelve columns"><header><h1>Shape grammars and the Sierpinski triangle</h1><small> <p><time>Wednesday, 11 Mar 2015</time> Â· <em> Reading time: 3 mins </em></p> </small></header><section><p>In the last few weeks I've been working on my thesis on procedural content generation and came across the concept of <a href=http://en.wikipedia.org/wiki/Shape_grammar>shape grammars</a> in the context of urban and architectural modeling.</p><span id=continue-reading></span><p>Shape grammars at first look like nothing new at all coming from L-systems and rewriting systems in general, but at a closer inspection you come across a fundamental problem: computers can't easily, meaningfully recognize and work with shapes, to the point that there's an entire field of study, computational geometry, dedicated to the task.<p>Fundamentally, what shape grammars do is move the domain of computation from the symbolic domain (e.g. Markov algorithms and Turing machines) to the visual domain. The Church-Turing thesis suggests, though, that there may be a deep connection between the two domains, which means that there may be a way to reduce the two models to each other.<p>I came up with the following strategy to implement a simple shape grammar processing system in a little over 50 lines of Javascript.<pre class=language-javascript data-lang=javascript style=color:#6c7079;background-color:#2b303b><code class=language-javascript data-lang=javascript><span style=color:#cd74e8>var </span><span style=color:#5cb3fa>ShapeGrammar </span><span style=color:#adb7c9>= </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>symbols</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>prods</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>  </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>symbols </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>symbols</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>  </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>prods </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>prods</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>  </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state </span><span style=color:#adb7c9>= </span><span style=color:#db9d63>null</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>}
</span><span style=color:#abb2bf>
</span><span style=color:#f0c678>ShapeGrammar</span><span style=color:#abb2bf>.prototype.</span><span style=color:#5cb3fa>axiom </span><span style=color:#adb7c9>= </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>axiom</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>  </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state </span><span style=color:#adb7c9>= </span><span style=color:#abb2bf>[{
</span><span style=color:#abb2bf>    sym:   </span><span style=color:#eb6772>axiom</span><span style=color:#abb2bf>,
</span><span style=color:#abb2bf>    bound: [</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>]
</span><span style=color:#abb2bf>  }];
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>return </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>}
</span><span style=color:#abb2bf>
</span><span style=color:#f0c678>ShapeGrammar</span><span style=color:#abb2bf>.prototype.</span><span style=color:#5cb3fa>run </span><span style=color:#adb7c9>= </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>() {
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>var </span><span style=color:#eb6772>newState </span><span style=color:#adb7c9>= </span><span style=color:#abb2bf>[], </span><span style=color:#eb6772>prod</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>for</span><span style=color:#abb2bf>(</span><span style=color:#cd74e8>var </span><span style=color:#eb6772>i </span><span style=color:#adb7c9>= </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>; </span><span style=color:#eb6772>i </span><span style=color:#adb7c9>< </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>.length; </span><span style=color:#eb6772>i</span><span style=color:#adb7c9>++</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>prod </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>prods</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>i</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>];
</span><span style=color:#abb2bf>    </span><span style=color:#cd74e8>for</span><span style=color:#abb2bf>(</span><span style=color:#cd74e8>var </span><span style=color:#eb6772>j </span><span style=color:#adb7c9>= </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>; </span><span style=color:#eb6772>j </span><span style=color:#adb7c9>< </span><span style=color:#eb6772>prod</span><span style=color:#abb2bf>.length; </span><span style=color:#eb6772>j</span><span style=color:#adb7c9>++</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>      </span><span style=color:#eb6772>newState</span><span style=color:#abb2bf>.</span><span style=color:#5ebfcc>push</span><span style=color:#abb2bf>({
</span><span style=color:#abb2bf>        sym: </span><span style=color:#eb6772>prod</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>,
</span><span style=color:#abb2bf>        bound: </span><span style=color:#eb6772>ShapeGrammar</span><span style=color:#abb2bf>.</span><span style=color:#5cb3fa>subBound</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>i</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>bound</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>prod</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>bound</span><span style=color:#abb2bf>)
</span><span style=color:#abb2bf>      })
</span><span style=color:#abb2bf>    }
</span><span style=color:#abb2bf>  }
</span><span style=color:#abb2bf>  </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>newState</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>return </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>}
</span><span style=color:#abb2bf>
</span><span style=color:#f0c678>ShapeGrammar</span><span style=color:#abb2bf>.prototype.</span><span style=color:#5cb3fa>draw </span><span style=color:#adb7c9>= </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>bounds</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>for</span><span style=color:#abb2bf>(</span><span style=color:#cd74e8>var </span><span style=color:#eb6772>i </span><span style=color:#adb7c9>= </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>; </span><span style=color:#eb6772>i </span><span style=color:#adb7c9>< </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>.length; </span><span style=color:#eb6772>i</span><span style=color:#adb7c9>++</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>    </span><span style=color:#cd74e8>var </span><span style=color:#eb6772>sym    </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>symbols</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>i</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>],
</span><span style=color:#abb2bf>        </span><span style=color:#eb6772>points </span><span style=color:#adb7c9>= </span><span style=color:#abb2bf>[], </span><span style=color:#eb6772>a</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>b</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>c</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>    </span><span style=color:#cd74e8>for</span><span style=color:#abb2bf>(</span><span style=color:#cd74e8>var </span><span style=color:#eb6772>j </span><span style=color:#adb7c9>= </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>; </span><span style=color:#eb6772>j </span><span style=color:#adb7c9>< </span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>points</span><span style=color:#abb2bf>.length; </span><span style=color:#eb6772>j</span><span style=color:#adb7c9>++</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>      </span><span style=color:#eb6772>a </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>i</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>bound</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j </span><span style=color:#adb7c9>% </span><span style=color:#db9d63>2</span><span style=color:#abb2bf>];
</span><span style=color:#abb2bf>      </span><span style=color:#eb6772>b </span><span style=color:#adb7c9>= </span><span style=color:#eb6772>this</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>state</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>i</span><span style=color:#abb2bf>].</span><span style=color:#eb6772>bound</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j </span><span style=color:#adb7c9>% </span><span style=color:#db9d63>2 </span><span style=color:#adb7c9>+ </span><span style=color:#db9d63>2</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>- </span><span style=color:#eb6772>a</span><span style=color:#abb2bf>;
</span><span style=color:#abb2bf>      </span><span style=color:#eb6772>c </span><span style=color:#adb7c9>= </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>a </span><span style=color:#adb7c9>+ </span><span style=color:#eb6772>b </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>points</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j</span><span style=color:#abb2bf>]);
</span><span style=color:#abb2bf>      </span><span style=color:#eb6772>points</span><span style=color:#abb2bf>[</span><span style=color:#eb6772>j</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>= </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>j </span><span style=color:#adb7c9>% </span><span style=color:#db9d63>2 </span><span style=color:#adb7c9>=== </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>) </span><span style=color:#adb7c9>? 
</span><span style=color:#abb2bf>        </span><span style=color:#eb6772>bounds</span><span style=color:#abb2bf>.x </span><span style=color:#adb7c9>+ </span><span style=color:#eb6772>c </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>bounds</span><span style=color:#abb2bf>.width
</span><span style=color:#abb2bf>        </span><span style=color:#adb7c9>:
</span><span style=color:#abb2bf>        </span><span style=color:#eb6772>bounds</span><span style=color:#abb2bf>.y </span><span style=color:#adb7c9>+ </span><span style=color:#eb6772>c </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>bounds</span><span style=color:#abb2bf>.height;
</span><span style=color:#abb2bf>    }
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>.</span><span style=color:#eb6772>draw</span><span style=color:#abb2bf>.</span><span style=color:#5ebfcc>call</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>sym</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>ctx</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>points</span><span style=color:#abb2bf>);
</span><span style=color:#abb2bf>  }
</span><span style=color:#abb2bf>}
</span><span style=color:#abb2bf>
</span><span style=color:#eb6772>ShapeGrammar</span><span style=color:#abb2bf>.</span><span style=color:#5cb3fa>subBound </span><span style=color:#adb7c9>= </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>inner</span><span style=color:#abb2bf>) {
</span><span style=color:#abb2bf>  </span><span style=color:#cd74e8>return </span><span style=color:#abb2bf>[
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>+ </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>2</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>- </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>]) </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>inner</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>],
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>1</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>+ </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>3</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>- </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>1</span><span style=color:#abb2bf>]) </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>inner</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>1</span><span style=color:#abb2bf>],
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>+ </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>2</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>- </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>0</span><span style=color:#abb2bf>]) </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>inner</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>2</span><span style=color:#abb2bf>],
</span><span style=color:#abb2bf>    </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>1</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>+ </span><span style=color:#abb2bf>(</span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>3</span><span style=color:#abb2bf>] </span><span style=color:#adb7c9>- </span><span style=color:#eb6772>outer</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>1</span><span style=color:#abb2bf>]) </span><span style=color:#adb7c9>* </span><span style=color:#eb6772>inner</span><span style=color:#abb2bf>[</span><span style=color:#db9d63>3</span><span style=color:#abb2bf>]
</span><span style=color:#abb2bf>  ]
</span><span style=color:#abb2bf>
</span><span style=color:#abb2bf>}
</span></code></pre><p>The idea is to represent the alphabet as a set of symbols with some added data, and to represent the output of the algorithm not as a string but as a tree, which is feasible without loss of generality (the tree itself is representable as a string). The data added to the symbol is some sort of geometrically meaningful representation of the shape; I chose to represent a shape with a bounding box and a set of points <script type=math/tex>\mathcal{P}</script> such that <script type=math/tex>p \in \mathcal{P} \Rightarrow p \in \left[0, 1\right]^2</script> . Furthermore, freedom is left to the designer of the grammar to implement a <code>draw</code> method alongside the definition of each shape-symbol; this method will receive a final set of points representing the shape's position at draw time.<p>Thus, a typical production rule of the grammar has the following form:<p><img alt=Production src=/data/2015-03-11/sierp.jpg><p>The dashed line represents the bounding box, the full line represents the shape itself. This production is coded by asserting that a certain symbol (e.g. <code>A</code>) represents a shape (the triangle) and by defining the right hand side as a list of <code>A</code> symbols whose bounding box values are defined relative to the bounding box of the left hand side, mapping them over the <script type=math/tex>\left[0,1\right]^2</script> interval.<p>In code, that would be<pre class=language-javascript data-lang=javascript style=color:#6c7079;background-color:#2b303b><code class=language-javascript data-lang=javascript><span style=color:#cd74e8>var </span><span style=color:#eb6772>sierpinski </span><span style=color:#adb7c9>= new </span><span style=color:#abb2bf>ShapeGrammar(
</span><span style=color:#abb2bf>  {
</span><span style=color:#abb2bf>    </span><span style=color:#9acc76>'A'</span><span style=color:#abb2bf>: {
</span><span style=color:#abb2bf>      points: [ </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>0 </span><span style=color:#abb2bf>],
</span><span style=color:#abb2bf>      </span><span style=color:#5cb3fa>draw</span><span style=color:#abb2bf>: </span><span style=color:#cd74e8>function</span><span style=color:#abb2bf>(</span><span style=color:#eb6772>ctx</span><span style=color:#abb2bf>, </span><span style=color:#eb6772>points</span><span style=color:#abb2bf>) { </span><span style=color:#5f697a;font-style:italic>/* draw shape */ </span><span style=color:#abb2bf>}
</span><span style=color:#abb2bf>    }
</span><span style=color:#abb2bf>  },
</span><span style=color:#abb2bf>  {
</span><span style=color:#abb2bf>    </span><span style=color:#9acc76>'A'</span><span style=color:#abb2bf>: [
</span><span style=color:#abb2bf>      { sym: </span><span style=color:#9acc76>'A'</span><span style=color:#abb2bf>, bound: [ </span><span style=color:#db9d63>.25</span><span style=color:#abb2bf>,   </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>, </span><span style=color:#db9d63>.75</span><span style=color:#abb2bf>,  </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>] },
</span><span style=color:#abb2bf>      { sym: </span><span style=color:#9acc76>'A'</span><span style=color:#abb2bf>, bound: [   </span><span style=color:#db9d63>0</span><span style=color:#abb2bf>,  </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>,  </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>,   </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>] },
</span><span style=color:#abb2bf>      { sym: </span><span style=color:#9acc76>'A'</span><span style=color:#abb2bf>, bound: [  </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>,  </span><span style=color:#db9d63>.5</span><span style=color:#abb2bf>,   </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>,   </span><span style=color:#db9d63>1</span><span style=color:#abb2bf>] }
</span><span style=color:#abb2bf>    ]
</span><span style=color:#abb2bf>  }
</span><span style=color:#abb2bf>);
</span></code></pre><p>At each step, an array of symbols + data (the <code>state</code>) is evaluated by the <code>run()</code> function pretty much the same way L-systems are. The result, of which you can see an example <a href=/thesis/source/10-sierpinski>here</a>, is a recursive computation of the <a href=http://en.wikipedia.org/wiki/Sierpinski_triangle>Sierpinski triangle</a>.</section></article><ul class=links><li><a href=https://github.com/veeenu target=_blank> <img alt=GitHub src=/img/github.svg> </a><li><a href=https://www.linkedin.com/in/andreavenuta/ target=_blank> <img alt=LinkedIn src=/img/linkedin.svg> </a><li><a href=https://twitter.com/johndisandonato target=_blank> <img alt=Twitter src=/img/twitter.svg> </a><li><a href=https://twitch.tv/johndisandonato target=_blank> <img alt=Twitch.tv src=/img/twitch.svg> </a><li><a href=cv.pdf target=_blank> <img alt="CV - Icon made by Vitaly Gorbachev (https://www.flaticon.com/authors/vitaly-gorbachev) from www.flaticon.com" src=/img/cv.svg> </a></ul></div><script async src=/katex.min.js></script><script data-cf-beacon='{"token": "9c82a3cc7db742e4bb18aebd57b40893"}' defer src=https://static.cloudflareinsights.com/beacon.min.js></script>